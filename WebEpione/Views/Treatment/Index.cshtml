@model IEnumerable<WebEpione.Models.TreatmentViewModel>

@{
    ViewBag.Title = "My profile";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<div id="breadcrumb">
    <div class="container">
        <ul>
            <li><a href="#">Home</a></li>
            <li>Patient profile</li>

        </ul>
    </div>
</div>
<!-- /breadcrumb -->
@Html.Action("UserByIdInformations", "Home", new { id = TempData["idPatient"] })

     <div class="col-xl-9 col-lg-8">

<div class="tabs_styled_2">
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" href="">Treatments</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"  href=@Url.Action("Create", "Treatment", new { id = TempData["idPatient"]}) ><i class="pe-7s-plus"></i> New treatment</a>
        </li>
        
    </ul>
    <!--/nav-tabs -->

    <div class="tab-content">

        <div class="tab-pane fade show active" id="book" role="tabpanel" aria-labelledby="book-tab">
            <p class="lead add_bottom_30">This is all the treatments that this patient is following.</p>
            
                <div class="main_title_3">
                    <h3>Treatments</h3>
                </div>
                <div class="form-group add_bottom_45">
                   

                    <table class="table">
                        <tr >

                            <th>
                                @Html.DisplayNameFor(model => model.Illness)
                            </th>

                            <th>
                                @Html.DisplayNameFor(model => model.Doctor)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model=>model.Validation)
                            </th>
                            <th>
                                View
                            </th>
                            <th>
                                Edit
                            </th>
                            <th>
                                Delete
                            </th>
                        </tr>

                        @foreach (var item in Model)
                        {
                            <tr @(item.Validation == "NotValid" ? String.Empty : "bgcolor=#bbe8e2")>

                                <td>
                                    @Html.DisplayFor(modelItem => item.Illness)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.Doctor)


                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem=>item.Validation)
                                </td>
                                <td>
                                    <h1><a href=@Url.Action("Details", "Treatment", new { id = item.TreatmentId })><i class="pe-7s-note2"></i></a></h1>
                                </td>
                                <td>
                                    <h1><a href=@Url.Action("Edit", "Treatment", new { id = item.TreatmentId })><i class="pe-7s-note"></i></a></h1>
                                </td>
                                <td>
                                    <h1><a href=@Url.Action("Delete", "Treatment", new { id = item.TreatmentId })><i class="pe-7s-trash"></i></a></h1>


                                </td>

                            </tr>
                        }

                    </table>
                </div>
        </div>
</div>
</div>
</div>
